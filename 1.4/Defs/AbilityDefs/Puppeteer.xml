<?xml version="1.0" encoding="UTF-8"?>
<Defs>

	<VFECore.Abilities.AbilityDef ParentName="VPE_PsycastBase">
		<defName>VPEP_BrainCut</defName>
		<label>brain cut</label>
		<description>An intentional misuse of the reprogramming psycast which creates a permanent rift in the target’s brain. The damage scales with the target’s psychic sensitivity and always disorients for 2 seconds.</description>
		<iconPath>Abilities/Puppeteer/BrainCut</iconPath>
		<abilityClass>VPEPuppeteer.Ability_BrainCut</abilityClass>
		<targetMode>Pawn</targetMode>
		<targetingParameters>
			<canTargetBuildings>False</canTargetBuildings>
			<canTargetSelf>False</canTargetSelf>
			<canTargetAnimals>True</canTargetAnimals>
			<canTargetPawns>True</canTargetPawns>
			<canTargetHumans>True</canTargetHumans>
			<canTargetMechs>False</canTargetMechs>
		</targetingParameters>
		<power>2</power>
		<powerStatFactors>
			<PsychicSensitivity>1</PsychicSensitivity>
		</powerStatFactors>
		<range>21</range>
		<castTime>120</castTime>
		<modExtensions>
			<li Class="VanillaPsycastsExpanded.AbilityExtension_Psycast">
				<path>VPEP_Puppeteer</path>
				<level>1</level>
				<order>1</order>
				<psyfocusCost>0.04</psyfocusCost>
				<entropyGain>16</entropyGain>
			</li>
			<li Class="VPEPuppeteer.AbilityExtension_TargetValidator">
				<notOfCasterFaction>True</notOfCasterFaction>
			</li>
		</modExtensions>
	</VFECore.Abilities.AbilityDef>

	<VFECore.Abilities.AbilityDef ParentName="VPE_PsycastGoToTargetBase">
		<defName>VPEP_BrainLeech</defName>
		<label>brain leech</label>
		<description>Creates a psionic link on a colleague or prisoner that redirects brain processing power to the leacher. The effect is inefficient and reaches its maximum after 2 days before fading into obscurity. Only a single leech can be maintained.</description>
		<iconPath>Abilities/Puppeteer/BrainLeech</iconPath>
		<abilityClass>VPEPuppeteer.Ability_BrainLeech</abilityClass>
		<targetMode>Pawn</targetMode>
		<distanceToTarget>1.5</distanceToTarget>
		<needsTicking>true</needsTicking>
		<drawAimPie>false</drawAimPie>
		<targetingParameters>
			<canTargetBuildings>False</canTargetBuildings>
			<canTargetSelf>False</canTargetSelf>
			<canTargetAnimals>False</canTargetAnimals>
			<canTargetPawns>True</canTargetPawns>
			<canTargetHumans>True</canTargetHumans>
			<canTargetMechs>False</canTargetMechs>
		</targetingParameters>
		<castTime>300</castTime>
		<modExtensions>
			<li Class="VanillaPsycastsExpanded.AbilityExtension_Psycast">
				<path>VPEP_Puppeteer</path>
				<level>1</level>
				<order>2</order>
				<psyfocusCost>0.4</psyfocusCost>
				<entropyGain>0</entropyGain>
				<psychic>True</psychic>
			</li>
			<li Class="VPEPuppeteer.AbilityExtension_TargetValidator">
				<ofCasterFaction>True</ofCasterFaction>
			</li>
		</modExtensions>
	</VFECore.Abilities.AbilityDef>

	<VFECore.Abilities.AbilityDef ParentName="VPE_PsycastGoToTargetBase">
		<defName>VPEP_Subjugation</defName>
		<label>subjugation</label>
		<description>Induces a form of indoctrination on a prisoner by altering neuron pathways so that thoughts of the target’s faction triggers negative reactions. The effects are quite nauseating and “convinces” them to switch sides after 7 days.</description>
		<iconPath>Abilities/Puppeteer/Subjugation</iconPath>
		<abilityClass>VFECore.Abilities.Ability_Blank</abilityClass>
		<targetMode>Pawn</targetMode>
		<distanceToTarget>1.5</distanceToTarget>
		<drawAimPie>false</drawAimPie>
		<durationTime>420000</durationTime>
		<targetingParameters>
			<canTargetBuildings>False</canTargetBuildings>
			<canTargetSelf>False</canTargetSelf>
			<canTargetAnimals>False</canTargetAnimals>
			<canTargetPawns>True</canTargetPawns>
			<canTargetHumans>True</canTargetHumans>
			<canTargetMechs>False</canTargetMechs>
		</targetingParameters>
		<castTime>300</castTime>
		<modExtensions>
			<li Class="VanillaPsycastsExpanded.AbilityExtension_Psycast">
				<path>VPEP_Puppeteer</path>
				<level>2</level>
				<order>1</order>
				<psyfocusCost>0.5</psyfocusCost>
				<entropyGain>0</entropyGain>
				<prerequisites>
					<li>VPEP_BrainLeech</li>
				</prerequisites>
			</li>
			<li Class="VFECore.Abilities.AbilityExtension_Hediff">
				<hediff>VPEP_Subjugation</hediff>
			</li>
			<li Class="VPEPuppeteer.AbilityExtension_TargetValidator">
				<prisonersOnly>True</prisonersOnly>
			</li>
		</modExtensions>
	</VFECore.Abilities.AbilityDef>

	<VFECore.Abilities.AbilityDef ParentName="VPE_PsycastBase">
		<defName>VPEP_Degrade</defName>
		<label>degrade</label>
		<description>Reverts the humanoid target’s behavioral instincts to a considerably more primitive state, forcibly triggering the mental break “run wild”.</description>
		<iconPath>Abilities/Puppeteer/Degrade</iconPath>
		<abilityClass>VFECore.Abilities.Ability_ShootProjectile</abilityClass>
		<castTime>240</castTime>
		<range>21.9</range>
		<targetingParameters>
			<canTargetPawns>true</canTargetPawns>
			<canTargetBuildings>false</canTargetBuildings>
			<canTargetMechs>false</canTargetMechs>
		</targetingParameters>
		<targetMode>Pawn</targetMode>
		<goodwillImpact>-10</goodwillImpact>
		<modExtensions>
			<li Class="VanillaPsycastsExpanded.AbilityExtension_Psycast">
				<path>VPEP_Puppeteer</path>
				<level>2</level>
				<order>2</order>
				<psyfocusCost>0.14</psyfocusCost>
				<entropyGain>16</entropyGain>
				<prerequisites>
					<li>VPEP_BrainLeech</li>
				</prerequisites>
			</li>
			<li Class="VFECore.Abilities.AbilityExtension_Projectile">
				<projectile>VPEP_Degrade</projectile>
				<hitFlags>All</hitFlags>
			</li>
		</modExtensions>
	</VFECore.Abilities.AbilityDef>

	<VFECore.Abilities.AbilityDef ParentName="VPE_PsycastBase">
		<defName>VPEP_Puppet</defName>
		<label>puppet</label>
		<description>Targeting a pawn affected by Brain Leech, this psycast permanently overwrites their personality with the caster’s own. Locks the short-term memory portion of the brain to synchronize with the caster, in turn putting them into a 24-hour coma. Number of puppets is initially limited to one.</description>
		<iconPath>Abilities/Puppeteer/Puppet</iconPath>
		<abilityClass>VPEPuppeteer.Ability_Puppet</abilityClass>
		<targetMode>Pawn</targetMode>
		<range>5</range>
		<targetingParameters>
			<canTargetBuildings>False</canTargetBuildings>
			<canTargetSelf>False</canTargetSelf>
			<canTargetAnimals>False</canTargetAnimals>
			<canTargetPawns>True</canTargetPawns>
			<canTargetHumans>True</canTargetHumans>
			<canTargetMechs>False</canTargetMechs>
		</targetingParameters>
		<castTime>1200</castTime>
		<modExtensions>
			<li Class="VanillaPsycastsExpanded.AbilityExtension_Psycast">
				<path>VPEP_Puppeteer</path>
				<level>3</level>
				<order>1</order>
				<psyfocusCost>0.4</psyfocusCost>
				<entropyGain>0</entropyGain>
				<prerequisites>
					<li>VPEP_Subjugation</li>
				</prerequisites>
			</li>
		</modExtensions>
	</VFECore.Abilities.AbilityDef>

</Defs>